---
layout: post
title: "프로젝트사이트 메뉴 동작 구현"
date: 2019-10-13 23:27:10
categories: javascript
---
메뉴가 원래는 나열되어 있는데 창 크기가 줄어들면(모바일과 같이) 메뉴가 숨겨지고, 버튼을 누르면 메뉴가 나오게 하는 기능.
자바스크립트로 한다.
바디태그 class 이름에 menu-on 넣으면, css에서 미리 레이아웃짠게 나타나게. menu-on 빼면 사라지게.
버튼 눌렀을 때 이렇게 menu-on이 클래스에 들어갔다 빠졌다 하게 만들려면??
(일단 menu-on 클래스를 display: block;으로 해놓은 상태. 그래야 넣고 빼고에 의해 나타났다 사라졌다 하니까.???)

내가 잡아내고 싶은 엘리먼트의 css선택자(global-menu-btn 같은 이름)를 넣어주면, 얘(버튼)를 선택할 있다.
console에 null 아무것도 안나오는 이유? html에서는 순서대로 인식을 하는데, 헤드태그에 자바스크립트 연결을 해놓으면 바디태그까지 로드되지 못함. 바디태그까지 로드되도록 기다려야 한다.
-> window라는 전역개체(전체를 아우르는 가장 큰 개체)를 활용한다.
전체 문서가 로드될때까지 기다리고, 로드된 이후에, 뒤의 함수를 실행하라는 의미. 이때 함수의 이름은 필요없다.
기다려줬기 때문에 모든걸 다 읽은 상태에서 함수가 실행되니까 제대로 가져올 수 있는 것!
window.addEventListener('load', function () {
  var menubtn = document.querySelector('.global-menu-btn');

여기서 쓴 load 이벤트 : 로드가 완료되면 발생하는 이벤트.

  menubtn.addEventListener('click', function () {
    var bodyElem = document.querySelector('body');
click 이벤트 : 어딘가 클릭하면 되는 이벤트.
바디라는 엘리먼트를 잡아와서 bodyElem이라는 변수에 넣고, 바디의 클래스에 'menu-on'을 추가해주세요. / document.querySelector('body') 나 document.body 중에 선택 가능.


근데 조건을 넣어야겠지. 메뉴가 열려있으면 닫고, 닫혀있으면 여는. 조건은 if문.
    if (메뉴가 열려있다면) {
      bodyElem.classList.remove('menu-on');
    } else {
      bodyElem.classList.add('menu-on');
    }
클래스를 추가하는 것은 add.
반대로 없애는 것은 remove.


그래서 메뉴가 열려있는지 판별할 변수를 하나 세팅할 것.
변수 선언하고 값을 설정 안해주면 undefined이고, if문에서는 false로 본다.
처음에는 메뉴가 닫혀있는 상태이니까 변수를 false로 일단 선언.

메뉴가 닫히게도 하고, 변수도 false로 바꿔줘야 한다.
메뉴가 열리게 할 때는, 변수도 true로 바꿔줘야 한다.
    if (메뉴가열려있음) {
      bodyElem.classList.remove('menu-on');
      메뉴가열려있음 = false;
    } else {
      bodyElem.classList.add('menu-on');
      메뉴가열려있음 = true;
    }

toggle : 껐다켰다. 이거는 똑똑하게도 menu-on을 안가지고 있으면 add해주고, 가지고 있으면 remove를 해준다. 토글을 쓴다면 변수 설정해서 if문 작성할 필요가 없다. 한줄로 오케이.
  bodyElem.classList.toggle('menu-on');


여기까지 classList에 add, remove, toggle까지 알아보았다!
